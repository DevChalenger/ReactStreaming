(this.webpackJsonpnetflix=this.webpackJsonpnetflix||[]).push([[0],{29:function(e,t,c){},36:function(e,t,c){},55:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),s=c(31),r=c.n(s),a=(c(36),c(9)),j=c.n(a),o=c(15),l=c(4),u=c(8),b=c.n(u),h=(c(55),c(0));var d=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),c=t[0],i=t[1];return Object(n.useEffect)((function(){function e(){return(e=Object(o.a)(j.a.mark((function e(){var t,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams(window.location.search),c=t.get("id"),e.next=4,b.a.get("https://backendmovies.herokuapp.com/api/movies/info/".concat(c));case 4:n=e.sent,i(n.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),null===c?Object(h.jsx)("p",{children:"Chargement du r\xe9sum\xe9..."}):Object(h.jsx)("section",{children:Object(h.jsxs)("article",{className:"movie-block",children:[Object(h.jsx)("div",{className:"block-img",children:Object(h.jsx)("img",{src:c._img,alt:c.title+"picture",className:"movie-img"})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:c.title}),Object(h.jsx)("p",{children:c.synopsis})]}),Object(h.jsx)("div",{})]},c._id)})};var O=function(){return Object(h.jsx)(d,{})},x=c(7);c(57);var m=function(){return Object(h.jsxs)("header",{className:"header",children:[Object(h.jsx)("h1",{children:Object(h.jsx)("em",{children:"Movies App"})}),Object(h.jsxs)("nav",{children:[Object(h.jsx)(x.b,{to:"/",className:"link",onClick:function(e){},children:"Home"}),Object(h.jsx)(x.b,{to:"/result",className:"link",children:"Search"})]})]})};c(58);var f=function(){var e=["January","February","March","April","May","June","July","August","September","October","November","December"][(new Date).getMonth()],t=(new Date).getFullYear();return Object(h.jsx)("footer",{className:"footer",children:Object(h.jsxs)("p",{children:["Created by Ilyas Boukhechem | ",e+" "+t," "]})})},p=c(2),v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,66)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),i(e),s(e),r(e)}))},g=(c(29),c(16)),k=c.n(g),w=(c(30),c(59),c(10)),N=c(11);var S=function(e){for(var t=e.moviesPerPage,c=e.totalMovies,n=e.paginate,i=[],s=0;s<=Math.ceil(c/t);s++)i.push(s);return i.shift(),Object(h.jsx)("article",{className:"block-pagination",children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"#page=1",children:Object(h.jsx)("button",{onClick:function(){return n(1)},children:Object(h.jsx)(w.a,{icon:N.a})})})}),i.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsx)("a",{onClick:function(){return n(e)},href:"#page="+e,children:Object(h.jsx)("button",{children:e})})},e)})),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"#page="+i[i.length-1],children:Object(h.jsx)("button",{onClick:function(){return n(i[i.length-1])},children:Object(h.jsx)(w.a,{icon:N.b})})})})]})})};var y=function(){k.a.init({duration:1e3});var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],i=t[1],s=Object(n.useState)(1),r=Object(l.a)(s,2),a=r[0],u=r[1],d=Object(n.useState)(4),O=Object(l.a)(d,2),m=O[0],f=O[1],p=a*m,v=p-m,g=c.slice(v,p);return Object(n.useEffect)((function(){function e(){return(e=Object(o.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://backendmovies.herokuapp.com/api/movies/");case 2:t=e.sent,i(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(h.jsxs)("section",{children:[Object(h.jsx)("ul",{className:"block-movies",children:g.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsx)("div",{id:"movie","data-aos":"zoom-in",children:Object(h.jsxs)("div",{className:"picture",children:[Object(h.jsx)("div",{className:"movie-title-block",children:Object(h.jsx)("h2",{children:Object(h.jsxs)(x.b,{to:"../resume/?id="+e._id,children:["R\xe9sum\xe9 du film: ",e.title]})})}),Object(h.jsx)("img",{src:e._img,alt:e.title+"picture"})]})})},e._id)}))}),Object(h.jsx)(S,{moviesPerPage:m,totalMovies:c.length,paginate:function(e){return u(e)},setMoviesPerPage:f})]})};var P=function(){return Object(h.jsx)(y,{})};c(64);var C=function(){k.a.init({duration:1e3});var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],i=t[1],s=new URLSearchParams(window.location.search).get("search");return Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("search");b.a.get("https://backendmovies.herokuapp.com/api/movies/result/?search=".concat(e)).then((function(e){i(e.data)}))}),[]),Object(h.jsxs)("section",{children:[Object(h.jsx)("form",{action:"/ReactStreaming",method:"get",children:Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"search",name:"search",placeholder:s,minLength:"2",required:!0}),Object(h.jsx)("button",{children:Object(h.jsx)(w.a,{icon:N.c})})]})}),Object(h.jsx)("ul",{children:c.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsxs)("div",{id:"movie","data-aos":"fade-down",children:[Object(h.jsxs)("div",{className:"picture",children:[Object(h.jsx)("img",{src:e._img,alt:e.title+"picture"}),Object(h.jsx)("div",{className:"movie-title-block",children:Object(h.jsx)("h2",{children:Object(h.jsxs)(x.b,{to:"../resume/?id="+e._id,children:["R\xe9sum\xe9 du film: ",e.title]})})})]}),Object(h.jsx)("div",{children:Object(h.jsx)("h3",{children:e.title})})]})},e._id)}))})]})};var M=function(){return Object(h.jsx)(C,{})};r.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsxs)(x.a,{basename:"/ReactStreaming",children:[Object(h.jsx)(m,{}),Object(h.jsxs)(p.c,{children:[Object(h.jsx)(p.a,{exact:!0,path:"/",element:Object(h.jsx)(P,{})}),Object(h.jsx)(p.a,{path:"/resume",element:Object(h.jsx)(O,{})}),Object(h.jsx)(p.a,{path:"/result",element:Object(h.jsx)(M,{})})]}),Object(h.jsx)(f,{})]})}),document.getElementById("root")),v()}},[[65,1,2]]]);
//# sourceMappingURL=main.faa39b39.chunk.js.map